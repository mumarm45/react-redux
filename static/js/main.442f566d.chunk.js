(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(t,e,n){t.exports=n(31)},25:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(16),c=n.n(a),i=(n(25),n(5)),u=n(6),l=n(8),d=n(7),s=n(9),p=n(3),f=n(1),m=n.n(f),h=function(t){return{type:"ADD_TODO",todo:t}},O=function(t){return{type:"TOGGLE_TODO",id:t}},v=function(t){return function(e){e({type:"REMOVE_TODO",id:t.id}),m.a.deleteTodo(t.id).catch(function(){e(h(t)),alert("Error has occurred")})}},g=function(t,e){return function(n){m.a.saveTodo(t).then(function(t){n(h(t)),e()})}},E=function(t){return function(e){e(O(t.id)),m.a.saveTodoToggle(t.id).catch(function(){e(O(t.id)),alert("error")})}},b=function(t){return r.a.createElement("div",null,r.a.createElement("ul",null,t.items.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{style:{textDecoration:e.complete?"line-through":"none"},onClick:function(){return t.toggleItem&&t.toggleItem(e)}},e.name),r.a.createElement("button",{onClick:function(){return t.removeItem(e)}},"X"))})))},y=function(t){function e(){var t,n;Object(i.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).addItem=function(t){t.preventDefault(),n.input.value&&n.props.dispatch(g(n.input.value,function(){return n.input.value=""}))},n.removeItem=function(t){n.props.dispatch(v(t))},n.toggleItem=function(t){n.props.dispatch(E(t))},n}return Object(s.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Todo"),r.a.createElement("input",{type:"text",placeholder:"Add todo",ref:function(e){return t.input=e}}),r.a.createElement("button",{onClick:this.addItem},"Add Todo"),r.a.createElement(b,{toggleItem:this.toggleItem,removeItem:this.removeItem,items:this.props.todos}))}}]),e}(r.a.Component),D=Object(p.b)(function(t){return{todos:t.todos}})(y),j=function(t){return{type:"ADD_GOAL",goal:t}},A=function(t){return function(e){e({type:"REMOVE_GOAL",id:t.id}),m.a.deleteGoal(t.id).catch(function(){e(j(t)),alert("Error has occurred")})}},I=function(t,e){return function(n){m.a.saveGoal(t).then(function(t){n(j(t)),e()}).catch(function(){alert("Error")})}},T=function(t){function e(){var t,n;Object(i.a)(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).addItem=function(t){t.preventDefault(),n.input.value&&n.props.dispatch(I(n.input.value,function(){return n.input.value=""}))},n.removeItem=function(t){n.props.dispatch(A(t))},n}return Object(s.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"Goal"),r.a.createElement("input",{type:"text",placeholder:"Add goal",ref:function(e){return t.input=e}}),r.a.createElement("button",{onClick:this.addItem},"Add Goal"),r.a.createElement(b,{removeItem:this.removeItem,items:this.props.goals})))}}]),e}(r.a.Component),w=Object(p.b)(function(t){return{goals:t.goals}})(T),G=n(19),_="RECEIVE_DATA";var k=function(){return function(t){return Promise.all([m.a.fetchTodos(),m.a.fetchGoals()]).then(function(e){var n=Object(G.a)(e,2),o=n[0],r=n[1];t(function(t,e){return{type:_,goals:e,todos:t}}(o,r))})}},C=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(k())}},{key:"render",value:function(){return!0===this.props.loading?r.a.createElement("h3",null,"Loading"):r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(w,null))}}]),e}(o.Component),L=Object(p.b)(function(t){return{loading:t.loading}})(C),x=n(2),M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODO":return t.concat(e.todo);case"REMOVE_TODO":return t.filter(function(t){return t.id!==e.id});case"TOGGLE_TODO":return t.map(function(t){return t.id!==e.id?t:Object.assign({},t,{complete:!t.complete})});case _:return e.todos;default:return t}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_GOAL":return t.concat(e.goal);case"REMOVE_GOAL":return t.filter(function(t){return t.id!==e.id});case _:return e.goals;default:return t}},V=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:return!1;default:return t}},J=Object(x.c)({todos:M,goals:R,loading:V}),B=n(18),N=function(t){return function(t){return function(e){return"ADD_TODO"===e.type&&-1!==e.todo.name.toLowerCase().indexOf("bitcoin")?alert("bad idea"):"ADD_GOAL"===e.type&&-1!==e.goal.name.toLowerCase().indexOf("bitcoin")?alert("bad idea"):t(e)}}},P=function(t){return function(e){return function(n){console.group(n.type),console.log("this action: ",n),e(n),console.log("this is new state: ",t.getState()),console.groupEnd()}}},S=Object(x.a)(B.a,N,P),X=Object(x.d)(J,S);c.a.render(r.a.createElement(p.a,{store:X},r.a.createElement(L,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.442f566d.chunk.js.map